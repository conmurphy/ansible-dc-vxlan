! This NDFC VRF-Lite BGP config data structure is auto-generated
! DO NOT EDIT MANUALLY
!
!
vrf context {{ item.vrf }}
{% for static_route in switch_item['static_routes'] %}
{% for next_hop in static_route['next_hops'] %}
  ip route {{ static_route['prefix']}} {{ next_hop['ip'] }}
!
{% endfor %}
{% endfor %}
router bgp {{ MD_Extended.vxlan.global.bgp_asn }}
  vrf {{ item.vrf }}
{% for peer in switch_item['bgp_peers'] %}
    neighbor {{ peer['address'] }}
      remote-as {{ peer['remote_as'] }}
{% if peer['address_family_ipv4_unicast'] is defined %}
      address-family ipv4 unicast
        route-map {{peer['address_family_ipv4_unicast']['route_map_out']}} out
{% endif %}
{% if peer['address_family_ipv6_unicast'] is defined %}
      address-family ipv6 unicast
        route-map {{peer['address_family_ipv6_unicast']['route_map_out']}} out
{% endif %}
{% endfor %}
!